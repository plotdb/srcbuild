// Generated by LiveScript 1.3.1
(function(){
  var context, data, view;
  context = {
    time: new Date().toLocaleString()
  };
  data = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20].map(function(it){
    return {
      title: "title " + it,
      description: Math.random().toString(36).substring(2)
    };
  });
  view = new ldView({
    context: context,
    root: '[ld-scope=ldview]',
    handler: {
      item: {
        list: function(){
          var start, end, ref$, ref1$;
          start = Math.floor(Math.random() * data.length);
          end = (ref$ = 1 + start + Math.floor((data.length - start) * Math.random())) < (ref1$ = data.length) ? ref$ : ref1$;
          return data.slice(start, end);
        },
        init: function(arg$){
          var node, local, data, context;
          node = arg$.node, local = arg$.local, data = arg$.data, context = arg$.context;
          return local.view = new ldView({
            context: {
              context: context,
              data: data
            },
            root: node,
            handler: {
              title: function(arg$){
                var node, context;
                node = arg$.node, context = arg$.context;
                return node.innerText = context.data.title;
              },
              description: function(arg$){
                var node, context;
                node = arg$.node, context = arg$.context;
                return node.innerText = context.data.description;
              },
              date: function(arg$){
                var node, context;
                node = arg$.node, context = arg$.context;
                return node.innerText = context.context.time;
              }
            }
          });
        },
        handler: function(arg$){
          var local, data, context;
          local = arg$.local, data = arg$.data, context = arg$.context;
          local.view.setContext({
            context: context,
            data: data
          });
          return local.view.render();
        }
      }
    }
  });
  return setInterval(function(){
    context.time = new Date().toLocaleString();
    return view.render();
  }, 1000);
})();